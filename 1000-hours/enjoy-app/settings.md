# 软件设置

Enjoy 只需要登录后即可直接使用，**无需其他设置**。但是，你仍然可以根据需要做个性化的设置。

打开 Enjoy 软件，点击左侧栏最下面的齿轮按钮，即可打开 `软件设置`。

## 资源库保存路径

::: info 设置路径
软件设置 -> 基本设置 -> 资源库保存路径
:::

Enjoy 采用 **本地优先** 的设计原则，大部分数据均保存在本地，即 **资源库保存路径** 下。
所谓资源库是一个名为 `EnjoyLibrary` 的文件夹，默认放置在 `My Documents` （即 `我的文档`）下。

随着 Enjoy 的使用时间增长，资源库文件夹里可能会产生比较大的缓存文件，导致占用空间较大。根据具体需要，你也可以修改资源库的路径，例如从 _C 盘_ 改到空间更大的 _D 盘_。

如果已经产生了数据，修改时，可以先把原来的 `EnjoyLibrary` 文件夹复制到目标路径下，再在 Enjoy 软件中点`修改`按钮，选中目标路径，然后重启软件，即可完成修改。

::: tip 资源库里都有什么
打开 `EnjoyLibrary` 文件夹，你能看到类似以下的目录结构

```
.
├── 2400xxxx
│   ├── audios
│   │   ├── 0687ae31c4178bbf0466503e56d887f8.mp3
│   │   └── ...
│   ├── enjoy_database.sqlite
│   ├── recordings
│   │   ├── 025542894635903d5ea6f2395cb404c0.wav
│   │   └── ...
│   ├── speeches
│   │   ├── 0687ae31c4178bbf0466503e56d887f8.mp3
│   │   └── ...
│   └── videos
│       ├── 23876d46305bae2e049c691872dd3cde.mkv
│       └── ...
├── cache
│   ├── 0687ae31c4178bbf0466503e56d887f8.json
│   └── ...
├── logs
│   ├── main.log
│   └── main.old.log
├── waveforms
│   ├── 0687ae31c4178bbf0466503e56d887f8.waveform.json
│   └── ...
└── whisper
│   ├── models
│   │   ├── tiny.en.bin
│   │   └── ...
```

- `/2400xxxx/`: 登录的 Enjoy 帐号 ID，该文件夹下的数据均是你使用产生的个人数据
  - `/2400xxxx/audios/`: 添加的音频文件
  - `/2400xxxx/speeches/`: TTS 生成的语音文件
  - `/2400xxxx/videos/`: 添加的视频文件
  - `/2400xxxx/recordings/`: 录音文件
  - `/2400xxxx/enjoy_database.sqlite`: 个人数据库文件
- `/cache/`: 使用过程中产生的缓存文件，如果占用空间过大，可以安全地删除
- `/logs/`: 保存软件运行的日志，用于帮助开发人员排除故障
- `/waveforms/`: 音视频解码后的波形数据缓存
- `/whisper/models`: 语音转文字服务软件 whisper 的模型文件

:::

::: danger 个人数据安全
`EnjoyLibrary/2400xxxx/` 文件夹下保存的均为使用 Enjoy 过程中产生的个人数据，请务必**不要删改**该文件夹下的任何文件，否则可能会导致数据丢失，或者使得 Enjoy 软件无法正常运行。

如前文所说，Enjoy 采用本地优先的设计原则，绝大部分数据并没有上传云服务器，请妥善保管好自己的个人数据。
:::

## OpenAI 配置

::: info 设置路径
软件设置 -> 基本设置 -> OpenAi
:::

配置 OpenAI API 密钥，可以在 [官网](https://platform.openai.com/api-keys) 申请。配置好的 OpenAI 服务可以在 [智能助手](./ai-assistant.md)、 [提取关键词汇](./webpage#提取关键词汇)、 [查单词](./webpage#查单词)、标注音标 等服务中使用。

- 密钥：OpenAI API 密钥
- 模型：默认使用的模型
- 接口地址：如果使用的是官方申请的密钥，则不需要填；否则请根据密钥提供方的信息填写。

::: warning 接口地址
由于 OpenAI 在某些地区不提供服务，有些用户会使用第三方提供的中转服务。请务必根据服务提供方的信息填写好 **接口地址**。如果使用时出现报错，可能需要在接口地址结尾加上 `/v1`。
:::

## Google Generative AI 配置

::: info 设置路径
软件设置 -> 基本设置 -> Google Generative AI
:::

配置 Google Generative AI 的密钥，可以在 [官网](https://ai.google.dev/) 申请 。配置后可以在 [智能助手](./ai-assistant.md) 中选用 Google Generative AI 作为 AI 引擎。

## 语音转文本服务

::: info 设置路径
软件设置 -> 基本设置 -> 语音转文本服务
:::

语音转文本（即 STT，Speech to Text）服务是 Enjoy 提供的核心功能之一，也是 [跟读训练](./audios.md#跟读音频) 的前提条件。

### 本地(whisper)

该设置默认项为 `本地`，即利用 Enjoy 集成的 whisper 组件，完全利用本地计算机的算力提供 STT 服务，该服务完全免费。

Enjoy 软件集成了最小的 whisper 模型 `tiny.en`，如果电脑配置较高，可以选用更大的模型以提高语音转文本的准确度。点击 `模型` 按钮，在弹窗中选择相应的模型即可自动下载并选中。

::: tip 关于 whisper 模型的选择
下载的 whisper 模型会保存在 `/EnjoyLibrary/whisper/models/` 文件夹下。如果自动下载失败，也可以到 [这里](https://hf-mirror.com/ggerganov/whisper.cpp) 手动下载，放置在该文件夹下，在 Enjoy 中即可以选中。

理论上，模型越大，识别的准确度也更高，但是运行得越慢，甚至在一些配置不高的电脑中无法运行。

凡是以 `.en` 结尾的模型均只支持英文，识别英文准确性也更高，例如 `base.en`；而不以 `.en` 结尾的模型则可以支持多种语言，例如 `base`。
:::

::: warning 检查本地 whisper 服务
有些电脑或者系统（例如 macOS 11）可能会因为兼容性问题（或其他未知问题）无法使用本地的 whisper 服务。点击 `检查` 按钮即可检查 whisper 服务在本地计算机是否工作正常。如果提示无法正常工作，可以选用其他服务。
:::

### Azure AI STT

利用微软 Azure AI 的语音识别 API 服务提供的 STT，该服务为**收费服务**，每次使用均会在 Enjoy 账户余额中扣费，，余额不足则需要 [充值](#充值) 后才可继续使用。

### Cloudflare AI STT

利用 Cloudflare 提供的 whisper 云服务，该服务目前免费。经实测，对于一些时长较短的音频，识别会有较大误差。

### OpenAI STT

利用 OpenAI 提供的 whipser 云服务，该服务需要[配置自己的 OpenAI 密钥](#openai-配置)。

## 默认 AI 引擎

::: info 设置路径
软件设置 -> 基本设置 -> 默认 AI 引擎
:::

Enjoy 中提供了很多方便的功能，例如 [提取关键词汇](./webpage#提取关键词汇)、 [查单词](./webpage#查单词)、标注音标 等，均是利用 AI 服务来实现。

如果你有自己的 [OpenAI 密钥](#openai-配置)，建议将 **默认 AI 引擎** 选为 `OpenAI`。

否则，可以选 `Enjoy AI`，由 Enjoy 提供该服务，每次使用均会在账户余额中扣费，余额不足则需要 [充值](#充值) 后才可继续使用。

## 充值

::: info 设置路径
软件设置 -> 账户设置 -> 余额
:::

Enjoy 提供了部分收费的 AI 服务，均为 **按使用量收费**，每次使用会在余额中扣除相应的费用，直到余额不足，则停止提供该服务。

如果需要继续使用，请点击 `充值` 按钮进行充值。

::: danger 充值前须知
需要特别注意的是，充值成功后将在 Enjoy 账户的余额体现，所有余额仅可作为支付 Enjoy 收费服务使用，**不支持退款**，**不支持提现**。

请谨慎考虑，按需充值。
:::
